import 'dart:math';
import 'package:cunex_wellness/core/enums/bot_gender.dart';

// คลาสสำหรับเก็บข้อความกำลังใจของบอท
class ChatBotService {
  // ตัวแปรสำหรับเก็บเพศของบอท
  static BotGender _botGender = BotGender.female; // ค่าเริ่มต้นเป็นเพศหญิง

  // getter และ setter สำหรับเพศของบอท
  static BotGender getGender() => _botGender;
  static void setGender(BotGender gender) {
    _botGender = gender;
  }

  // ข้อความที่ต้องปรับตามเพศ (มีคำลงท้าย "ค่ะ/ครับ")
  static List<String> _getGenderedMessages() {
    final String suffix = _botGender == BotGender.female ? "ค่ะ" : "ครับ";

    return [
      "สวัสดี$suffix! วันนี้เป็นวันที่ดีนะ$suffix ถ้าคุณรู้สึกเหนื่อย อย่าลืมให้เวลากับตัวเองบ้างนะ!",
      "เชื่อเถอะ$suffix ว่าคุณทำได้ ทุกความพยายามมีค่าเสมอ อย่าท้อแท้ไปเลย!",
      "ไม่มีอะไรที่คุณทำไม่ได้หรอก$suffix คุณแค่ต้องให้เวลาตัวเองและเชื่อมั่นในตัวเอง!",
      "ถ้าคุณรู้สึกท้อ แค่หายใจลึกๆ แล้วก้าวต่อไปนะ$suffix ด้วยความมั่นใจในตัวเอง!",
      "วันนี้อาจจะยังไม่ใช่วันของคุณ แต่พรุ่งนี้เป็นอีกโอกาสหนึ่งที่จะทำให้คุณแข็งแกร่งขึ้นนะ$suffix!",
      "อย่าลืมว่าคุณมีพลังที่ไม่จำกัดในการสร้างสิ่งที่คุณต้องการนะ$suffix!",
      "ทำให้วันนี้ดีกว่าเมื่อวาน และอย่าหยุดเชื่อในตัวเองนะ$suffix!",
      "วันนี้เป็นโอกาสใหม่ที่จะเริ่มต้นใหม่ อย่าลืมว่าคุณสามารถทำได้นะ$suffix!",
      "อย่าลืมว่าคุณเป็นคนที่พิเศษและมีคุณค่ามากกว่าที่คุณเห็นในตัวเองนะ$suffix!",
    ];
  }

  // ข้อความที่เป็นกลาง (ไม่มีคำลงท้ายเฉพาะเพศ)
  static final List<String> _neutralMessages = [
    "ทุกก้าวที่คุณเดินไปมันคือความสำเร็จที่คุณควรภาคภูมิใจ!",
    "ไม่ต้องกลัวความล้มเหลว เพราะมันเป็นก้าวแรกที่พาคุณไปสู่ความสำเร็จ!",
    "วันนี้อาจจะยาก แต่คุณเข้มแข็งพอที่จะผ่านมันไปได้แน่นอน!",
    "คุณไม่ต้องรีบร้อน ทุกอย่างจะเกิดขึ้นในเวลาที่เหมาะสม!",
    "แม้ในวันที่เหนื่อยที่สุด คุณก็ยังได้ทำอะไรดีๆ อยู่เสมอ อย่าลืมภูมิใจในตัวเอง!",
    "ไม่ว่าคุณจะอยู่ที่ไหน หรือกำลังทำอะไร คุณก็ก้าวไปข้างหน้าเสมอ!",
    "อย่ากังวลกับสิ่งที่ไม่ได้เกิดขึ้นในวันนี้ เพราะคุณสามารถสร้างอนาคตที่ดีขึ้นได้ในวันพรุ่งนี้!",
    "ทุกๆ การพยายามเป็นการก้าวไปข้างหน้า แม้จะเล็กน้อยก็เถอะ!",
    "สิ่งที่คุณทำอยู่ตอนนี้มันสำคัญ คุณกำลังก้าวไปข้างหน้า แม้จะไม่เห็นผลทันที!",
    "ไม่ว่าจะมีปัญหามากมายแค่ไหน ก็มีความหวังและกำลังใจอยู่รอบตัวคุณ!",
    "แม้ว่าทางจะยากแค่ไหน ขอแค่คุณไม่ยอมแพ้ ทุกก้าวที่คุณเดินคือความสำเร็จ!",
    "บางครั้งการเดินช้าก็ไม่เป็นไร ตราบใดที่คุณยังเดินต่อไป!",
    "ไม่มีอะไรที่เกิดขึ้นโดยบังเอิญ ทุกสิ่งเกิดขึ้นเพื่อพาคุณไปในทางที่ดีกว่า!",
    "อย่าหยุดแม้ว่าจะเจออุปสรรค ทุกครั้งที่คุณล้มลง คุณยืนขึ้นได้แข็งแกร่งขึ้น!",
    "ถึงแม้บางครั้งคุณจะรู้สึกท้อ แต่จำไว้ว่าคุณแข็งแกร่งกว่าที่คุณคิด!",
    "อย่ามองผลลัพธ์ตอนนี้ เพราะทุกความพยายามจะผลิดอกออกผลในที่สุด!",
    "ทุกๆ การก้าวไปข้างหน้าคือการทำให้ฝันของคุณเป็นจริง!",
    "แม้จะต้องเผชิญกับความยากลำบาก แต่คุณจะสามารถก้าวข้ามมันไปได้!",
    "ทุกความพยายามของคุณมีค่ามากกว่าที่คุณคิด และมันจะนำพาคุณไปยังที่ที่ดีกว่า!",
    "อย่าปล่อยให้ความกลัวหยุดคุณ คุณมีพลังในการทำสิ่งที่ยิ่งใหญ่!",
    "การที่คุณก้าวไปข้างหน้าแม้จะเป็นก้าวเล็กๆ มันคือความสำเร็จแล้ว!",
  ];

  // รวมทั้งข้อความที่ต้องปรับตามเพศและข้อความที่เป็นกลาง
  static List<String> getAllMessages() {
    List<String> allMessages = [];
    allMessages.addAll(_getGenderedMessages());
    allMessages.addAll(_neutralMessages);
    return allMessages;
  }

  // เพิ่มฟังก์ชันสำหรับการสุ่มข้อความ
  static String getRandomMessage() {
    final random = Random();
    final messages = getAllMessages();
    return messages[random.nextInt(messages.length)];
  }

  // เพิ่มฟังก์ชันสำหรับการค้นหาข้อความตามคีย์เวิร์ด
  static String getMessageByKeyword(String keyword) {
    keyword = keyword.toLowerCase();
    final String suffix = _botGender == BotGender.female ? "ค่ะ" : "ครับ";

    if (keyword.contains('เหนื่อย') || keyword.contains('ท้อ')) {
      return "สวัสดี$suffix! วันนี้เป็นวันที่ดีนะ$suffix ถ้าคุณรู้สึกเหนื่อย อย่าลืมให้เวลากับตัวเองบ้างนะ!";
    } else if (keyword.contains('ทำไม่ได้') || keyword.contains('ยาก')) {
      return "เชื่อเถอะ$suffix ว่าคุณทำได้ ทุกความพยายามมีค่าเสมอ อย่าท้อแท้ไปเลย!";
    } else if (keyword.contains('สวัสดี') || keyword.contains('หวัดดี')) {
      return "สวัสดี$suffix! วันนี้เป็นวันที่ดีนะ$suffix มีอะไรให้ช่วยไหม?";
    } else if (keyword.contains('กำลังใจ') || keyword.contains('แรงใจ')) {
      return "ไม่มีอะไรที่คุณทำไม่ได้หรอก$suffix คุณแค่ต้องให้เวลาตัวเองและเชื่อมั่นในตัวเอง!";
    } else if (keyword.contains('ล้มเหลว') || keyword.contains('ผิดหวัง')) {
      return "ไม่ต้องกลัวความล้มเหลวนะ$suffix เพราะมันเป็นก้าวแรกที่พาคุณไปสู่ความสำเร็จ!";
    } else if (keyword.contains('เริ่มต้น') || keyword.contains('เริ่มใหม่')) {
      return "วันนี้เป็นโอกาสใหม่ที่จะเริ่มต้นใหม่นะ$suffix อย่าลืมว่าคุณสามารถทำได้!";
    } else if (keyword.contains('อนาคต') || keyword.contains('พรุ่งนี้')) {
      return "อย่ากังวลกับสิ่งที่ไม่ได้เกิดขึ้นในวันนี้นะ$suffix เพราะคุณสามารถสร้างอนาคตที่ดีขึ้นได้ในวันพรุ่งนี้!";
    }

    // ถ้าไม่เจอคีย์เวิร์ดที่ตรงกัน ให้สุ่มข้อความ
    return getRandomMessage();
  }
}
